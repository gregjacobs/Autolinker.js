/*!
 * Autolinker.js
 * Version 0.3.1
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Autolinker.js
 */
var Autolinker={htmlRegex:/<(\/)?(\w+)(?:(?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,link:function(i,o){o=o||{};var b=Autolinker.htmlRegex,f=Autolinker.matcherRegex,m=("newWindow" in o)?o.newWindow:true,n=o.truncate,k,j=0,g,c="",l=0;function e(p){p=p.replace(f,function(z,x,w,v,u,s){var r=x,D=w,B=v,t=u,y="",C="",A="";var q=[];C=z;A=z;if(r){y=D;C="https://twitter.com/"+B;A="@"+B}else{if(t){C="mailto:"+t;A=t}else{if(!/^[A-Za-z]{3,9}:/i.test(C)){C="http://"+C}}}if(A.charAt(A.length-1)==="/"){A=A.slice(0,-1)}q.push('href="'+C+'"');if(m){q.push('target="_blank"')}if(n&&A.length>n){A=A.substring(0,n-2)+".."}return y+"<a "+q.join(" ")+">"+A+"</a>"});return p}while((k=b.exec(i))!==null){var a=k[0],d=k[2],h=!!k[1];g=i.substring(j,k.index);j=k.index+a.length;if(d==="a"){if(!h){l++;c+=e(g)}else{l--;if(l===0){c+=g}}}else{if(l===0){c+=e(g)}}c+=a}if(j<i.length){c+=e(i.substring(j))}return c}};Autolinker.matcherRegex=/((^|\s)@(\w{1,15}))|((?:[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+\.[A-Za-z0-9\.\-]+)|((?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:com|org|net|gov|edu|mil|us|info|biz|ws|name|mobi|cc|tv|co\.uk|de|ru|hu|fr|br)))(?:(?:\/(?:[\+~%\/\.\w\-]*[\+~%\/\w\-])?)?(?:\?[\-\+=&;%@\.\w]*)?(?:#[\-\.\!\/\\\w%]*)?)?)/g;