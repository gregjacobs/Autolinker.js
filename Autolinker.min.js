/*!
 * Autolinker.js
 * Version 0.3.1
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Autolinker.js
 */
var Autolinker={htmlRegex:/<(\/)?(\w+)(?:(?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,httpRegex:/(https?:\/\/)?(www\.)?/g,link:function(j,p){p=p||{};var b=Autolinker.htmlRegex,f=Autolinker.matcherRegex,n=("newWindow" in p)?p.newWindow:true,g=("stripPrefix" in p)?p.stripPrefix:true,o=p.truncate,l,k=0,h,c="",m=0;function e(q){q=q.replace(f,function(C,A,z,y,w,u){var s=A,G=z,E=y,v=w,B="",F="",D="";var r=[];F=C;D=C;if(s){B=G;F="https://twitter.com/"+E;D="@"+E}else{if(v){F="mailto:"+v;D=v}else{if(!/^[A-Za-z]{3,9}:/i.test(F)){F="http://"+F}}}if(g){D=D.replace(Autolinker.httpRegex,"")}r.push('href="'+F+'"');if(n){r.push('target="_blank"')}if(o&&D.length>o){var x=Math.floor(o/2)-1,t=Math.ceil(o/2)-1;D=D.substring(0,x)+".."+D.substring(D.length-t)}return B+"<a "+r.join(" ")+">"+D+"</a>"});return q}while((l=b.exec(j))!==null){var a=l[0],d=l[2],i=!!l[1];h=j.substring(k,l.index);k=l.index+a.length;if(d==="a"){if(!i){m++;c+=e(h)}else{m--;if(m===0){c+=h}}}else{if(m===0){c+=e(h)}}c+=a}if(k<j.length){c+=e(j.substring(k))}return c}};Autolinker.matcherRegex=/((^|\s)@(\w{1,15}))|((?:[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+\.[A-Za-z0-9\.\-]+)|((?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:com|org|net|gov|edu|mil|us|info|biz|ws|name|mobi|cc|tv|co\.uk|de|ru|hu|fr|br)))(?:(?:\/[\+~%\/\.\w\-]*)?(?:\?[\-\+=&;%@\.\w]*)?(?:#[\-\.\!\/\\\w%]*)?)?)/g;