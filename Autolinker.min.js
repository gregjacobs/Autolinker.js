/*!
 * Autolinker.js
 * Version 0.3.1
 * 
 * Copyright(c) 2012 Gregory Jacobs.
 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
 * 
 * https://github.com/gregjacobs/Autolinker.js
 */
var Autolinker={htmlRegex:/<(\/)?(\w+)(?:(?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,link:function(i,o){o=o||{};var b=Autolinker.htmlRegex,f=Autolinker.matcherRegex,m=("newWindow" in o)?o.newWindow:true,n=o.truncate,k,j=0,g,c="",l=0;function e(p){p=p.replace(f,function(B,z,y,x,v,t){var r=z,F=y,D=x,u=v,A="",E="",C="";var q=[];E=B;C=B;if(r){A=F;E="https://twitter.com/"+D;C="@"+D}else{if(u){E="mailto:"+u;C=u}else{if(!/^[A-Za-z]{3,9}:/i.test(E)){E="http://"+E}}}q.push('href="'+E+'"');if(m){q.push('target="_blank"')}if(n&&C.length>n){var w=Math.floor(n/2)-1,s=Math.ceil(n/2)-1;C=C.substring(0,w)+".."+C.substring(C.length-s)}return A+"<a "+q.join(" ")+">"+C+"</a>"});return p}while((k=b.exec(i))!==null){var a=k[0],d=k[2],h=!!k[1];g=i.substring(j,k.index);j=k.index+a.length;if(d==="a"){if(!h){l++;c+=e(g)}else{l--;if(l===0){c+=g}}}else{if(l===0){c+=e(g)}}c+=a}if(j<i.length){c+=e(i.substring(j))}return c}};Autolinker.matcherRegex=/((^|\s)@(\w{1,15}))|((?:[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+\.[A-Za-z0-9\.\-]+)|((?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:biz|br|cc|co\.uk|com|de|edu|fr|gov|hu|info|io|me|mil|mobi|name|net|org|ru|tv|us|ws)))(?:(?:\/[\+~%\/\.\w\-]*)?(?:\?[\-\+=&;%@\.\w]*)?(?:#[\-\.\!\/\\\w%]*)?)?)/g;